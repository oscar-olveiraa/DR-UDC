\chapter{Router sin QoS}
\label{chap:sinqos}

\section{Longitud de cola del router}

\subsection{Ejercicio 1.11111.1}

\renewcommand{\theenumi}{\alph{enumi}}
\begin{enumerate}
    \item Tasa de entrada [pkt/s] a la cola.

\[
\label{eq:sinqos_tasa_entrada}
R_{in} = R_{VoIP} + 2 \cdot R_{UDP} = \frac{1~\mathrm{pkts}}{20~\text{ms}} + 2\cdot (\frac{1 ~ \text{pkts} }{80 ~ \text{ms} }) = \frac{1~\mathrm{pkt}}{0,02~\text{s}} + \frac{2~\mathrm{pkt}}{0,08~\text{s}} = 50 ~ \text{pkt/s} + 25 ~ \text{pkt/s} = 75 ~ \text{pkt/s}
\]

    \item Proporción de paquetes de cada tipo en la cola.

    En VoIp: \[ \frac{R_{VoIP}}{R_{in}} = \frac{50~\text{pkts/s}}{75~\text{pkts/s}} = \frac{2~\text{pkts/s}}{3~\text{pkts/s}}  \approx 66,66\%\]

    En UDP: \[ \frac{R_{VoIP}}{R_{in}} = \frac{25~\text{pkts/s}}{75~\text{pkts/s}} = \frac{1~\text{pkts/s}}{3~\text{pkt/s}} \approx 33,33\% \] 
            (ambos transmisores UDP, cada uno tiene una proporción de \( 16,67\% \)).

    \item Tasa de salida [pkt/s] de la cola, asumiendo que la cabecera del protocolo PPP tiene 7B.
 
    Como está la cabecera PPP de 7B, los paquetes VoIP tendría una cabecera total de 199B y los paquetes UDP una cabecera de 1000B.

    \begin{eqnarray}
        \label{eq:senqos_tasa_salida}
        128~\text{kb/s} \cdot \frac{1000~\text{b}}{1~\text{kb}} \cdot \frac{1~\text{B}}{8~\text{b}} = 16000~\text{B/s} \\
        R_{out} = \frac{16000~\text{B/s}}{ \frac{2}{3} \cdot  199~\text{B/pkts} + \frac{1}{3} \cdot 1000~\text{B/pkts}} = 34,33~\text{pkts/s}
    \end{eqnarray}


    \item ¿Cuánto tarda en llenarse la cola?
    
    Como se ve en la gráfica tamaño de la cola sin QoS, tiene un tamaño de 100pkts:

    \[
      T_{fill} = \frac{L}{R_{fill}} = \frac{L}{R_{in} - R_{out}} \frac{100~\text{pkts}}{75~\text{pkt/s} - 34,33~\text{pkts/s}} = 2,46~\text{s}
    \]


\end{enumerate}

\subsection{Ejercicio 1.1.2}

\subsection{Ejercicio 1.1.3}

\subsection{Ejercicio 1.1.4}


\section{Tiempo en cola del router}

\subsection{Ejercicio 1.2.1}

\subsection{Ejercicio 1.2.2}



\section{Retardo de extremo a extremo}

\subsection{Ejercicio 1.3.1}



\section{Muestras VoIP y Paquetes VoIP perdidos}

\subsection{Ejercicio 1.4.1}